Description: Remove restrictive check for GNU/Linux archs since the sources
 compile fine on some non-linux architectures (kfreebsd, for instance).
Author: Alessio Treglia <alessio@debian.org>
Forwarded: no
---
 configure        |    2 +-
 configure.ac     |    2 +-
 util/mtp-probe.c |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

--- libmtp.orig/configure
+++ libmtp/configure
@@ -12749,7 +12749,7 @@ esac
 $as_echo_n "checking if the host operating system is Linux... " >&6; }
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
-#ifndef __linux__
+#if !(defined __linux__ || defined __FreeBSD_kernel__ || defined __GNU__)
 		#error "FAIL"
 		#endif
 
--- libmtp.orig/configure.ac
+++ libmtp/configure.ac
@@ -81,7 +81,7 @@ esac
 AC_SUBST(OSFLAGS)
 
 AC_MSG_CHECKING([if the host operating system is Linux])
-AC_TRY_COMPILE([#ifndef __linux__
+AC_TRY_COMPILE([#if !(defined __linux__ || defined __FreeBSD_kernel__ || defined __GNU__)
 		#error "FAIL"
 		#endif
 		],
--- libmtp.orig/util/mtp-probe.c
+++ libmtp/util/mtp-probe.c
@@ -36,7 +36,7 @@
  * Free Software Foundation, Inc., 59 Temple Place - Suite 330,
  * Boston, MA 02111-1307, USA.
  */
-#ifndef __linux__
+#if !(defined __linux__ || defined __FreeBSD_kernel__ || defined __GNU__)
 #error "This program should only be compiled for Linux!"
 #endif
 
